apply plugin: 'java'
apply plugin: 'idea'
apply plugin: 'checkstyle'

repositories {
    mavenCentral()
}

dependencies {
    compile group: 'args4j', name: 'args4j', version: '2.33'
    compile group: 'com.google.guava', name: 'guava', version: '23.0'
    compile group: 'org.apache.commons', name: 'commons-lang3', version: '3.6'
    compile group: 'org.testng', name: 'testng', version: '6.11'
}

sourceSets.main {
    java {
        srcDir "src/main/java"
    }
    resources {
        srcDirs = ["src/main/java", "src/main/resources"]
        exclude "**/*.java"
    }
}

task wrapper(type: Wrapper) {
    gradleVersion = '4.1'
}

task app(type: JavaExec, dependsOn: 'compileJava') {
    classpath = sourceSets.main.runtimeClasspath

    main = 'com.chesstama.GameController'
    if (project.hasProperty("appArgs")) {
        args Eval.me(appArgs)
    }
}

tasks.withType(Checkstyle) {
    reports {
        xml.enabled false
        html.enabled true
    }
}
